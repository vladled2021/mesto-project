(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Dr:()=>L,yB:()=>k,q2:()=>C,r$:()=>h,lV:()=>S,j7:()=>q,Yw:()=>m,$h:()=>d,$4:()=>b,fw:()=>g,iH:()=>v,pw:()=>s,Wu:()=>f,rC:()=>_});var t=function(e,t,n){var o=e.querySelector(n.buttonSelector);!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?function(e,t){e.classList.remove(t.buttonDisabledClass),e.disabled=!1}(o,n):function(e,t){e.classList.add(t.buttonDisabledClass),e.disabled=!0}(o,n)};function n(e){e.classList.add("popup_opened"),document.addEventListener("keydown",o)}function o(e){"Escape"===e.key&&l(document.querySelector(".popup_opened"))}function r(){formPlace.elements.buttonPlaceCreate.classList.add("popup__submit_disabled"),formPlace.elements.buttonPlaceCreate.disabled=!0}function l(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",o)}function c(e){var t=L.querySelector(".element").cloneNode(!0),o=t.querySelector(".element__trash");return t.querySelector(".element__image").src=e.link,t.querySelector(".element__image").alt=e.name,t.querySelector(".element__title").textContent=e.name,t.querySelector(".element__like").addEventListener("click",(function(e){e.target.classList.toggle("element__like_active")})),o.addEventListener("click",(function(){o.closest(".element").remove()})),t.querySelector(".element__image").addEventListener("click",(function(e){C.src=e.target.src,C.alt=e.target.alt,h.textContent=e.target.alt,n(g)})),t}var u,p=document.querySelectorAll(".popup"),a=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_profile"),i=(s.querySelector(".popup__close-button"),s.querySelector(".popup__form")),d=s.querySelector(".popup__input_type_name"),m=s.querySelector(".popup__input_type_job"),_=document.querySelector(".profile__name"),f=document.querySelector(".profile__activity"),y=(document.forms.formPlace,document.forms.formProfile,document.querySelector(".popup__submit"),document.querySelector(".profile__add-button")),v=document.querySelector(".popup_type_place"),S=(v.querySelector(".popup__close-button"),v.querySelector(".popup__form")),b=v.querySelector(".popup__input_type_title"),q=v.querySelector(".popup__input_type_image-link"),k=document.querySelector(".elements"),g=document.querySelector(".popup_type_image"),L=(g.querySelector(".popup__close-button"),document.querySelector("#element").content),C=g.querySelector(".popup__image"),h=g.querySelector(".popup__image-title");document.addEventListener("click",(function(e){e.target.classList.contains("popup")&&(l(s),l(v),l(g))})),p.forEach((function(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup__close-button")&&l(e)}))})),function(e){for(var t=0;t<e.length;t+=1)k.append(c(e[t]))}([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]),a.addEventListener("click",(function(){n(s),d.value=_.textContent,m.value=f.textContent})),y.addEventListener("click",(function(){n(v),r(),S.reset()})),i.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=d.value,f.textContent=m.value,l(s)})),S.addEventListener("submit",(function(e){e.preventDefault();var t={name:b.value,link:q.value};k.prepend(c(t)),l(v),S.reset(),r()})),u={formSelector:".popup__form",inputSelector:".popup__input",errorClass:"error-message_visible",inputInvalidClass:"popup__input_type_error",buttonSelector:".popup__submit",buttonDisabledClass:"popup__submit_disabled"},Array.from(document.querySelectorAll(u.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,n){var o=Array.from(e.querySelectorAll(n.inputSelector));t(e,o,n),o.forEach((function(r){r.addEventListener("input",(function(){!function(e,t,n){var o=e.querySelector("#".concat(t.id,"-error"));t.validity.valid?function(e,t,n){e.classList.remove(n.inputInvalidClass),t.classList.remove(n.errorClass),t.textContent=""}(t,o,n):function(e,t,n,o){e.classList.add(o.inputInvalidClass),t.classList.add(o.errorClass),t.textContent="Заполните это поле."===n?"Вы пропустили это поле.":"Введите URL."===n?"Введите адрес сайта.":n}(t,o,t.validationMessage,n)}(e,r,n),t(e,o,n)}))}))}(e,u)}))})();